
@{
    ViewData["Title"] = "Exam_maintenance";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<html>

<head>

    <style>
        .initiallyHidden {
            display: none;
        }

        .modal {
            overflow-y: auto;
        }
/*
        .note-group-select-from-files {
            display: none;
        }*/

        div:empty:before {
            content: attr(data-placeholder);
            color: gray
        }

    </style>

</head>

<body>



    <div class="container-fluid ">

        @*<div class="container rounded bg-white m-auto p-1" id="Main_Form">*@
        <div class="row justify-content-lg-center justify-content-md-center  m-2">

            <div class="col-5">
                <h1><b> Exam Maintenance  </b></h1>
            </div>
        </div>




        <div class="row justify-content-center ">

            <div class="col-10">
                <div class="card rounded shadow-lg m-auto ">
                    <div class="card-header modal-o-bg shadow-sm">
                        <h3><b>Select Exam </b></h3>
                    </div>
                    <div class="card-body">

                      
                        <div class="row justify-content-lg-center ">


                            <div class="col-4">
                                <div class="form-group">
                                    <label for="exampleInputEmail1">  <b>Type :</b></label>
                                    @Html.DropDownList("DDL_CategoryType", new SelectList("", ""), new { @id = "DDL_CategoryType", @class = "custom-select h-100  w-100" })

                                </div>

                            </div>


                            <div class="col col-lg-4">
                                <form>
                                    <div class="form-group">
                                        <label for="DDL_ExamCategory"><b> Category :</b></label>
                                        @Html.DropDownList("DDL_ExamCategory", new SelectList("", ""), new { @id = "DDL_ExamCategory", @class = "custom-select h-100 w-100" })

                                    </div>

                                </form>

                            </div>

                            <div class="col col-lg-4">
                                <form>
                                    <div class="form-group">
                                        <label for="DDL_ExamName"><b> Exam Name :</b></label>
                                        @Html.DropDownList("DDL_ExamName", new SelectList("", ""), new { @id = "DDL_ExamName", @class = "custom-select h-100 w-100" })

                                    </div>
                                </form>
                            </div>
                        </div>
                        <br />
                    </div>
                </div>

            </div>
        </div>


        <br />



        <div class="row justify-content-center " id="Display">
            <div class="col-10">

                <div class="card  rounded-lg m-auto shadow-lg">

                    <div class="card-header  modal-o-bg shadow-sm ">

                        <div class="row justify-content">

                            <div class="col-12">
                                <h3><b>   Exam Name : <label id="LB_Exam_Name" class="text-white"></label></b></h3>

                            </div>
                        </div>

                    </div>
                    <div class="card-header ">

                        <div class="row ">

                       
                            <div class="col-4 text-center">
                                <h6> <b>  Rewrite :  </b><label id="LB_Rewrie" class="font-weight-bold"></label></h6>
                          
                            </div>
                            <div class="col-4 text-center">
                                
                            
                                <h6> <b>  Update :  </b><label id="LB_Update" class="font-weight-bold"></label></h6>
                            </div>
                            <div class="col-4 text-center">
                                <h6> <b>  Total :  </b><label id="LB_Exam_Count" class="font-weight-bold"></label></h6>

                            </div>
                        </div>

                    </div>

                    <div class="card-body">


                        <div class="row justify-content-center m-auto">
                            <div class="col-12 overflow-auto">
                                <table class="table table-sm table-bordered table-striped " style="font-size:small; color:black; width:100%; background-color:#fff;" id="MyTable">

                                    <thead class="bg-light">
                                        <tr>
                                            <th class="text-center"> Seq</th>
                                            <th class="text-center">Question</th>
                                            <th>Ans Count</th>
                                            <th>Status</th>
                                            <th>
                                                <button class="btn btn-success btn_response" onclick="NewQuestion()">
                                                    <i class="fas fa-plus"></i>    New Question
                                                </button>
                                            </th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>

                        </div>
                    </div>
                    @*</div>*@
                </div>
            </div>
        </div>





        @*//---------------------------------*@

        @*</div>*@

    </div>



    <div class="modal hide fade " id="Modal_Form_Main" tabindex="-1" data-focus-on="input:first">
        <div class="modal-dialog modal-lg " style="max-width:1200px;max-height:300px;">

            <div class="modal-content">

                <div class="modal-header modal-o-bg">
                    <h4 class="modal-title "><label id="LB_title" class="text-white"></label></h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>

                </div>
         

                <div class="modal-body" id="Modal_body_Form_Main" style="overflow:auto">



                </div>


                <div class="modal-footer">

                      

                </div>
            </div>

        </div>



    </div>




    <div class="modal hide fade" id="Modal_Summernote" tabindex="-1" data-focus-on="input:first">
        <div class="modal-dialog modal-dialog-centered modal-lg  ">
            <div class="modal-content border border-dark shadow shadow-lg rounded ">
                <!-- Modal Header -->
                <div class="modal-header modal-o-bg">
                    <h4 class="modal-title">Input Detail</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">

                    <div id="Display_Modal" class="border border-dark rounded m-3 p-3" style="min-height:30px; max-height:150px; overflow:auto;">



                    </div>
                    <textarea class="form-control " id="Summernote_modal" name="" style="height:150px; overflow:auto;" ></textarea>
                    <br />

                    <div class="row justify-content-end m-3">
                        <div class="col-2">
                            <button class="btn btn-info w-100 btn-sm " id="BTN_Add" onclick="Add_Detail_Display('Display_Modal','Summernote_modal')">
                                <i class="fas fa-plus"></i>     Add
                            </button>

                        </div>
                        <div class="col-2">
                            <button class="btn btn-info w-100 btn-sm " id="BTN_Edit" onclick="Edit_Detail_Display('Display_Modal','Summernote_modal')">
                                <i class="fas fa-edit"></i> Edit
                            </button>

                        </div>

                        <div class="col-2">
                            <button class="btn btn-danger w-100 btn-sm " id="BTN_Reset" onclick="Reset_Summernote('Summernote_modal')">
                                <i class="fas fa-trash-alt"></i> Reset
                            </button>

                        </div>
                    </div>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button class="btn btn-success btn-sm " id="BTN_Save" onclick="Save()">
                        <i class="fas fa-save"></i> Save Edit
                    </button>
           

                    <button type="button" class="btn btn-secondary btn-sm " data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>



    </div>

    @section Scripts
{


        <script src="~/lib/summernote/dist/Bootstrap_4_4_1.js"></script>

        @*<script src="~/lib/jquery/jquery.min.js"></script>*@
        @*<script src="~/lib/bootstrap/js/bootstrap.min.js"></script>*@


        <link href="~/lib/summernote/dist/summernote-bs4.css" rel="stylesheet" />
        <script src="~/lib/summernote/dist/summernote-bs4.js"></script>


        <link href="~/lib/bootstrap/css/bootstrap4-toggle.css" rel="stylesheet" />
        <script src="~/lib/bootstrap/js/bootstrap4-toggle.js"></script>

        <link href="~/lib/DataTables/css/dataTables.bootstrap4.min.css" rel="stylesheet" />
        <link href="~/lib/DataTables/css/colReorder.bootstrap4.min.css" rel="stylesheet" />
        <link href="~/lib/DataTables/css/fixedColumns.bootstrap4.min.css" rel="stylesheet" />
        <link href="~/lib/DataTables/css/fixedHeader.bootstrap4.min.css" rel="stylesheet" />
        <link href="~/lib/DataTables/css/keyTable.bootstrap4.min.css" rel="stylesheet" />
        <link href="~/lib/DataTables/css/responsive.bootstrap4.min.css" rel="stylesheet" />
        <link href="~/lib/DataTables/css/rowGroup.bootstrap4.min.css" rel="stylesheet" />
        <link href="~/lib/DataTables/css/rowReorder.bootstrap4.min.css" rel="stylesheet" />
        <link href="~/lib/DataTables/css/scroller.bootstrap4.min.css" rel="stylesheet" />
        <link href="~/lib/DataTables/css/select.bootstrap4.min.css" rel="stylesheet" />
        <link href="~/lib/DataTables/css/buttons.bootstrap4.min.css" rel="stylesheet" />
        <link href="~/lib/DataTables/css/buttons.dataTables.min.css" rel="stylesheet" />

        <script src="~/lib/DataTables/js/jquery.dataTables.min.js"></script>
        <script src="~/lib/DataTables/js/dataTables.bootstrap4.min.js"></script>
        <script src="~/lib/DataTables/js/dataTables.colReorder.min.js"></script>
        <script src="~/lib/DataTables/js/dataTables.fixedHeader.min.js"></script>
        <script src="~/lib/DataTables/js/dataTables.keyTable.min.js"></script>
        <script src="~/lib/DataTables/js/dataTables.responsive.min.js"></script>
        <script src="~/lib/DataTables/js/responsive.bootstrap4.min.js"></script>
        <script src="~/lib/DataTables/js/dataTables.rowGroup.min.js"></script>
        <script src="~/lib/DataTables/js/dataTables.rowReorder.min.js"></script>
        <script src="~/lib/DataTables/js/dataTables.scroller.min.js"></script>
        <script src="~/lib/DataTables/js/dataTables.select.min.js"></script>
        <script src="~/lib/DataTables/js/dataTables.buttons.min.js"></script>
        <script src="~/lib/DataTables/js/buttons.bootstrap.min.js"></script>
        <script src="~/lib/DataTables/js/buttons.flash.min.js"></script>
        <script src="~/lib/DataTables/js/buttons.html5.min.js"></script>
        <script src="~/lib/DataTables/js/buttons.print.min.js"></script>



        <script src="~/lib/CustomJS/Exam/CommonJS.js"></script>

        <script src="~/lib/CustomJS/Exam/Create_Exam.js"></script>

        <script>

            var DisplayOrder = 0;
            var Exam_NO = 0;
            var TempDisplayID;
            var TempHTML;
            var AnsrowCount = 1;
            var AnsrowCount_Edit = 0;

            //---------------------------
            var Ans_Array;
            var result = { NO: "", Value: [] };  //[0]type,[1]HTMLText,[2]Ans_Value,[3]Need
            var Need_Value
            //---------------
            var Max_Seq;
            var QuestionCount;
            var ValueCodeQuestion;
            var ValueCodeAnswer;
            var ItemName;
            var TableTarget;
            var Rewrite_ValueList;
            var Rewrite_Master;
            var UpdDate;
            //----------------
            var OP_UPD;

            $(document).ready(function () {
            
                $('#Display').hide();

                OP_UPD = '@User.Identity.Name';
             //  GetExamCategory();
                GetExamCategoryType();
            });


            //    var func = $('.summernote').summernote('module', 'videoDialog').createVideoNode;

            //$('.summernote').summernote('module', 'videoDialog').createVideoNode =
            //    function (url) {

            //            // native function generating the elements (iframe)
            //           var html = func(url);
            //           var a

            //            return a;
            //      };

            $("#DDL_CategoryType").on("change", function () {
                
                var CategoryType = $("#DDL_CategoryType").val()

                $('#Display').hide();
                if (CategoryType != 0) {
                    $("#DDL_ExamCategory option").remove();
                    $("#DDL_ExamName option").remove();
            
                    GetExamCategory(CategoryType);
                } else {
                    $("#DDL_ExamName option").remove();
                    $("#DDL_ExamCategory option").remove();
                }
            });



            $("#DDL_ExamCategory").on("change", function () {
                var Category = $("#DDL_ExamCategory").val()
                $('#Display').hide();
                if (Category != 0) {
                    $("#DDL_ExamName option").remove();
                    GetExamName(Category)
                } else {
                    $("#DDL_ExamName option").remove();
                }
            });

            $("#DDL_ExamName").on("change", function () {
                
                var ItemCode = $("#DDL_ExamName").val()

                if (ItemCode != 0) {
                    GetExamDetail(ItemCode)
               
                } else {
                    $('#Display').hide();
                }

        
      
          
            });


        </script>

    }






</body>




</html>

